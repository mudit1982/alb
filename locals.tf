locals {
  count_subnet_id = length(var.SUBNET_ID)
  security_rules = {
  join("-", ["SG", var.Name_ALB, "ALBSecurityGroup", "1"]) = {
    "rule1" = { type = "ingress", from_port = 22, to_port = 22, protocol = "tcp", cidr_blocks = ["0.0.0.0/0"], description = "For SSH" },
    "rule2" = { type = "ingress", from_port = 443, to_port = 443, protocol = "tcp", cidr_blocks = ["10.0.0.0/16"], description = "For SSH" },
    "rule3" = { type = "egress", from_port = 22, to_port = 22, protocol = "tcp", cidr_blocks = ["10.0.0.0/16"], description = "For SSH" }
  }
  join("-", ["SG", var.Name_ALB, "ALBSecurityGroup", "2"]) = {
    "rule1" = { type = "ingress", from_port = 22, to_port = 22, protocol = "tcp" , cidr_blocks = ["10.0.0.0/16"], description = "For SSH"}
  }
}
 
  }
